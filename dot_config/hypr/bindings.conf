########################
### MODIFIER & APPS ###
########################

$mainMod = SUPER
$altkey = ALT

$terminal = uwsm-app -- xdg-terminal-exec
$browser  = omarchy-launch-browser


############################
### APPLICATION BINDINGS ###
############################

bindd = $mainMod, RETURN, Terminal, exec, $terminal --dir="$(omarchy-cmd-terminal-cwd)"
bindd = ALT, RETURN, Terminal, exec, $terminal --dir="$(omarchy-cmd-terminal-cwd)"

bindd = ALT, E, File manager, exec, uwsm-app -- nautilus --new-window

bindd = $mainMod SHIFT, B, Browser, exec, $browser
bindd = ALT, B, Browser, exec, $browser
bindd = ALT SHIFT, {, Browser (private), exec, $browser --private

bindd = ALT, M, Music, exec, omarchy-launch-or-focus spotify

bindd = $mainMod SHIFT, N, Editor, exec, omarchy-launch-editor
bindd = ALT, N, Editor, exec, omarchy-launch-editor

bindd = $mainMod SHIFT, T, Activity, exec, omarchy-launch-tui btop
bindd = CTRL SHIFT, ESCAPE, Activity, exec, omarchy-launch-tui btop

bindd = $mainMod SHIFT, D, Docker, exec, omarchy-launch-tui lazydocker

bindd = $mainMod SHIFT, O, Obsidian, exec, omarchy-launch-or-focus "^obsidian$" "uwsm-app -- obsidian -disable-gpu --enable-wayland-ime"


#########################
### WEB APPS / TOOLS ###
#########################

bindd = $mainMod SHIFT, C, ChatGPT, exec, omarchy-launch-webapp "https://chatgpt.com"
bindd = ALT SHIFT, C, ChatGPT, exec, omarchy-launch-webapp "https://chatgpt.com"

bindd = $mainMod SHIFT ALT, A, Grok, exec, omarchy-launch-webapp "https://grok.com"

bindd = $mainMod SHIFT, E, Email, exec, omarchy-launch-webapp "https://app.hey.com"
bindd = $mainMod SHIFT, Y, YouTube, exec, omarchy-launch-webapp "https://youtube.com/"

bindd = $mainMod SHIFT ALT, G, WhatsApp, exec, omarchy-launch-or-focus-webapp WhatsApp "https://web.whatsapp.com/"

bindd = $mainMod SHIFT CTRL, G, Google Messages, exec, omarchy-launch-or-focus-webapp "Google Messages" "https://messages.google.com/web/conversations"

bindd = $mainMod SHIFT, P, Google Photos, exec, omarchy-launch-or-focus-webapp "Google Photos" "https://photos.google.com/"

bindd = $mainMod SHIFT, X, X, exec, omarchy-launch-webapp "https://x.com/"
bindd = $mainMod SHIFT ALT, X, X Post, exec, omarchy-launch-webapp "https://x.com/compose/post"


#########################
### UNBINDS / OVERRIDES ###
#########################

unbind = $mainMod, J
unbind = $mainMod, K
unbind = $mainMod, S
unbind = $mainMod, P


############################
### WINDOW / FOCUS CONTROL ###
############################

# Vim-style focus movement
bindd = $mainMod, H, Focus left, movefocus, l
bindd = $mainMod, L, Focus right, movefocus, r
bindd = $mainMod, K, Focus up, movefocus, u
bindd = $mainMod, J, Focus down, movefocus, d

bindd = $altkey, H, Focus left, movefocus, l
bindd = $altkey, L, Focus right, movefocus, r
bindd = $altkey, K, Focus up, movefocus, u
bindd = $altkey, J, Focus down, movefocus, d

# Vim-style window movement
bindd = ALT SHIFT, H, Move window left, movewindow, l
bindd = ALT SHIFT, L, Move window right, movewindow, r
bindd = ALT SHIFT, K, Move window up, movewindow, u
bindd = ALT SHIFT, J, Move window down, movewindow, d


# Vim-style resize
bindd = $mainMod CTRL, H, Resize left, resizeactive, -20 0
bindd = $mainMod CTRL, L, Resize right, resizeactive, 20 0
bindd = $mainMod CTRL, K, Resize up, resizeactive, 0 -20
bindd = $mainMod CTRL, J, Resize down, resizeactive, 0 20

bind = ALT, W, killactive
bind = $mainMod, M, togglefloating


#########################
### WORKSPACE CONTROL ###
#########################

# Sequential workspace switching
bindd = $mainMod, BRACKETLEFT, Prev workspace, workspace, -1
bindd = $mainMod, BRACKETRIGHT, Next workspace, workspace, +1

bindd = $mainMod SHIFT, BRACKETLEFT, Move window to prev ws, movetoworkspace, -1
bindd = $mainMod SHIFT, BRACKETRIGHT, Move window to next ws, movetoworkspace, +1

# Home-row workspace switching
bindd = ALT, A, Workspace 1, workspace, 1
bindd = ALT, S, Workspace 2, workspace, 2
bindd = ALT, D, Workspace 3, workspace, 3
bindd = ALT, F, Workspace 4, workspace, 4
bindd = ALT, G, Workspace 5, workspace, 5

bindd = ALT SHIFT, A, Move window to ws1, movetoworkspace, 1
bindd = ALT SHIFT, S, Move window to ws2, movetoworkspace, 2
bindd = ALT SHIFT, D, Move window to ws3, movetoworkspace, 3
bindd = ALT SHIFT, F, Move window to ws4, movetoworkspace, 4
bindd = ALT SHIFT, G, Move window to ws5, movetoworkspace, 5


############################
### SPECIAL WORKSPACE ###
############################

bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

# ===== Omarchy Theme Controls =====
# Cycle to next theme
bindd = ALT SHIFT, N, Next theme background, exec, omarchy-theme-bg-next

# Cycle background images for current theme
bindd = ALT SHIFT, B, Next theme background, exec, omarchy-theme-bg-next

bind = $mainMod, G, exec, ~/.config/hypr/scripts/toggle_gaps.sh

bindd = ALT SHIFT, P, Theme menu, exec, omarchy-launch-walker -m menus:omarchythemes --width 800 --minheight 400

bindd = SUPER, Q, Install Package, exec, terminal omarchy-pkg-install
bindd = SUPER, I, Install Package, exec, terminal omarchy-pkg-install

bindd = $altkey SHIFT, I, Install Package, exec, ~/.local/share/omarchy/bin/omarchy-menu "Install"

